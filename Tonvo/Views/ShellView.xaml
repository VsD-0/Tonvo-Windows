<ui:FluentWindow x:Class="Tonvo.Views.ShellView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:view="clr-namespace:Tonvo.Views"
        DataContext="{Binding ShellViewModel, Source={StaticResource ViewModelLocator}}"
        mc:Ignorable="d"
        Title="ShellView"
        Icon="/Resources/Icons/Logo transparency1.ico"
        Height="760" Width="1350"
        MinHeight="250" MinWidth="430"
        ExtendsContentIntoTitleBar="True"
        WindowBackdropType="Mica"
        WindowCornerPreference="Round"
        WindowStartupLocation="CenterScreen"
        WindowState="{Binding winState}"
        ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
        ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
        TextElement.FontWeight="Medium"
        TextElement.FontSize="14">

    <ui:FluentWindow.BorderBrush>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="{StaticResource winBorderColor1}" Offset="0"/>
            <GradientStop Color="{StaticResource winBorderColor3}" Offset="0.5"/>
            <GradientStop Color="{StaticResource winBorderColor2}" Offset="1"/>
        </LinearGradientBrush>
    </ui:FluentWindow.BorderBrush>
    <ui:FluentWindow.BorderThickness>
        <Thickness>2</Thickness>
    </ui:FluentWindow.BorderThickness>
    <Border BorderThickness="0">
        
        
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <ui:NavigationView Grid.Row="1"
                    Margin="0"
                    IsBackButtonVisible="Auto"
                    IsPaneToggleVisible="True"
                    PaneDisplayMode="Left"
                    PaneTitle="Pane Title">
                <ui:NavigationView.AutoSuggestBox>
                    <ui:AutoSuggestBox Margin="8,0,8,8" PlaceholderText="Search" />
                </ui:NavigationView.AutoSuggestBox>
                <ui:NavigationView.MenuItems>
                    <ui:NavigationViewItem
                            Content="Домой"
                            Icon="{ui:SymbolIcon Home24}"
                            TargetPageType="{x:Type view:BrowseListView}" />
                    <ui:NavigationViewItem
                            Content="Личный кабинет"
                            Icon="{ui:SymbolIcon Library24}"
                            TargetPageType="{x:Type view:PersonalAccountView}" />
                </ui:NavigationView.MenuItems>
                <ui:NavigationView.FooterMenuItems>
                    <ui:NavigationViewItem
                            Content="Settings"
                            Icon="{ui:SymbolIcon Settings24}"
                            TargetPageType="{x:Type view:SignInView}" />
                </ui:NavigationView.FooterMenuItems>
                <ui:NavigationView.Header>
                    <Border
                            Margin="8"
                            Background="{DynamicResource StripedBackgroundBrush}"
                            CornerRadius="4">
                        <TextBlock
                                Margin="24"
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}"
                                Text="NavigationView Header" />
                    </Border>
                </ui:NavigationView.Header>
                <ui:NavigationView.PaneHeader>
                    <Border
                            Margin="0,0,0,8"
                            Background="{DynamicResource StripedBackgroundBrush}"
                            CornerRadius="4">
                        <TextBlock
                                Margin="24"
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}"
                                Text="Pane Header" />
                    </Border>
                </ui:NavigationView.PaneHeader>
                <ui:NavigationView.PaneFooter>
                    <Border
                            Margin="0,8,0,0"
                            Background="{DynamicResource StripedBackgroundBrush}"
                            CornerRadius="4">
                        <TextBlock
                                Margin="24"
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}"
                                Text="Pane Footer" />
                    </Border>
                </ui:NavigationView.PaneFooter>
            </ui:NavigationView>
            <!--<Border CornerRadius="10,0,0,10"
                    Width="52"
                    HorizontalAlignment="Left">
                <Border.Style>
                    <Style>
                        <Style.Triggers>
                            <EventTrigger RoutedEvent="Border.MouseEnter">
                                <EventTrigger.Actions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="(Border.Width)"
                                                             To="250"
                                                             Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger.Actions>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="Border.MouseLeave">
                                <EventTrigger.Actions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="(Border.Width)"
                                                             To="52"
                                                             Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger.Actions>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0.7">
                        <GradientStop Color="{StaticResource winBorderColor1}" Offset="0"/>
                        <GradientStop Color="{StaticResource winBorderColor2}" Offset="0.5"/>
                        <GradientStop Color="{StaticResource winBorderColor3}" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <StackPanel>

                    --><!--Логотип--><!--
                    <StackPanel Orientation="Horizontal"
                                Height="45"
                                Margin="5,5,0,40">

                        <Image Height="40"
                               Margin="0 4" 
                               VerticalAlignment="Center"
                               RenderOptions.BitmapScalingMode="Fant"
                               RenderOptions.EdgeMode="Aliased"
                               RenderOptions.ClearTypeHint="Enabled"
                               Source="/Resources/Pictures/Logo transparency2.png"/>
                        <TextBlock Text="Tonvo"
                                   FontSize="35"
                                   Foreground="{StaticResource Secondary}"
                                   FontFamily="Montserrat"
                                   FontWeight="Bold"
                                   VerticalAlignment="Center"
                                   Margin="25,0,0,0"/>
                    </StackPanel>

                    --><!--Кнопки меню--><!--
                    <RadioButton Style="{StaticResource menuButton}"
                                 Tag="{StaticResource Secondary}"
                                 IsChecked="True"
                                 Command="{Binding ShowHomeViewCommand}">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="Home" Style="{StaticResource menuButtonIcon}"/>
                            <TextBlock Text="Домой" Style="{StaticResource menuButtonText}"/>
                        </StackPanel>
                    </RadioButton>
                    <RadioButton Style="{StaticResource menuButton}"
                                 Tag="{StaticResource Secondary}"
                                 Command="{Binding ShowPersonalAccountViewCommand}">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="UserAlt"  Style="{StaticResource menuButtonIcon}"/>
                            <TextBlock Text="Личный кабинет" Style="{StaticResource menuButtonText}"/>
                        </StackPanel>
                    </RadioButton>
                    <RadioButton Style="{StaticResource menuButton}"
                                 Tag="{StaticResource Secondary}"
                                 Command="{Binding ShowSettingsViewCommand}">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="Gear" Style="{StaticResource menuButtonIcon}"/>
                            <TextBlock Text="Настройки" Style="{StaticResource menuButtonText}"/>
                        </StackPanel>
                    </RadioButton>
                </StackPanel>
            </Border>-->

            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>

                <!--ControlBar-->
                <Border Background="{StaticResource PrimaryLight}" CornerRadius="0,10,0,0" Padding="2">
                    <Border.InputBindings>
                        <MouseBinding MouseAction="LeftDoubleClick"
                                    Command="{Binding MaximizeWindowCommand}"/>
                    </Border.InputBindings>
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="MouseDown">
                            <i:InvokeCommandAction Command="{Binding MoveWindowCommand}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>

                    <Grid>
                        <!--Элементы управления окна-->
                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal" Margin="5 2">

                            <!--Свернуть окно-->
                            <Button Style="{StaticResource btnControlBarStyle}"
                                Command="{Binding MinimizeWindowCommand}">
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="\Resources\Icons\roll_window.png"/>
                                </StackPanel>
                            </Button>

                            <!--Окно на весь экран-->
                            <Button Style="{StaticResource btnControlBarStyle}" 
                                Command="{Binding MaximizeWindowCommand}">
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="{Binding ChangeWindowStateIcon}"/>
                                </StackPanel>
                            </Button>

                            <!--Закрыть окно-->
                            <Button Name="winClose" Style="{StaticResource btnControlBarStyle}"
                                Command="{Binding ShutdownWindowCommand}">
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="\Resources\Icons\close_window.png"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Border>
</ui:FluentWindow>
